<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0"	xmlns="http://www.w3.org/1999/xhtml"	xmlns:xsl="http://www.w3.org/1999/XSL/Transform">		<xsl:import href="/getTemplate.php/mtg/global"/>	<xsl:template match="/data">		<xsl:variable name="eventList" select=".//event"/>		<xsl:variable name="refList" select=".//reference"/>		<html>			<xsl:call-template name="sites.head"/>			<body>				<main>					<h1>Magic Events</h1>					<p>Taken From:</p>					<ul>						<xsl:for-each select="$refList">							<li><a href="{@href}" rel="external" target="_blank"><xsl:value-of select="@href"/></a></li>						</xsl:for-each>					</ul>					<p>Specific lists:</p>					<ul>						<li><a href=".">All events (default)</a></li>						<li><a href="?type=Grand+Prix">All Grand Prixs</a></li>						<li><a href="?type=Grand+Prix&amp;format=Limited">All Limited Grand Prixs</a></li>						<li><a href="?type=Grand+Prix&amp;format=Team+Limited">All Team Limited Grand Prixs</a></li>						<li><a href="?type=PPTQ&amp;country=Germany">All PPTQs in Germany</a></li>						<li><a href="?type=PPTQ&amp;format=Limited">All Limited PPTQs</a></li>						<li><a href="?type=GPT&amp;country=Germany">All GPTs in Germany</a></li>						<li><a href="?type=GPT&amp;format=Limited">All Limited GPTs</a></li>						<li><a href="?city=Dresden">All events in Dresden</a></li>						<li><a href="?format=Limited">All limited events</a></li>					</ul>					<table class="paintedTable" border="1">						<thead>							<tr>								<th>Date</th>								<th>Event</th>								<th>Type</th>								<th>Format</th>								<th>City</th>								<th>Venue</th>								<!--<th>Country</th>-->							</tr>						</thead>						<tbody>							<xsl:if test="not($eventList)">								<tr>									<th colspan="5"><em>None ;__;</em></th>								</tr>							</xsl:if>							<xsl:for-each select="$eventList">								<tr data-event-type="{@type}" data-event-format="{@format}">									<td class="date">										<xsl:choose>											<xsl:when test="@date-start = @date-end">												<xsl:value-of select="@date"/>											</xsl:when>											<xsl:otherwise>												<xsl:value-of select="concat(@date-start, ' - ', @date-end)"/>											</xsl:otherwise>										</xsl:choose>									</td>									<td>										<xsl:choose>											<xsl:when test="@name-href">												<a href="{@name-href}" rel="external" target="_blank"><xsl:value-of select="@name"/></a>											</xsl:when>											<xsl:otherwise>												<xsl:value-of select="@name"/>											</xsl:otherwise>										</xsl:choose>									</td>									<td><xsl:value-of select="@type"/></td>									<td class="nl2br"><xsl:value-of select="@format"/></td>									<td>										<xsl:choose>											<xsl:when test="@city-href">												<a href="{@city-href}" rel="external" target="_blank"><xsl:value-of select="@city"/></a>											</xsl:when>											<xsl:otherwise>												<xsl:value-of select="@city"/>											</xsl:otherwise>										</xsl:choose>									</td>									<td>										<xsl:choose>											<xsl:when test="@venue-href">												<a href="{@venue-href}" rel="external" target="_blank"><xsl:value-of select="@venue"/></a>											</xsl:when>											<xsl:otherwise>												<xsl:value-of select="@venue"/>											</xsl:otherwise>										</xsl:choose>									</td>									<!--									<td><xsl:value-of select="@country"/></td>									-->								</tr>							</xsl:for-each>						</tbody>					</table>				</main>			</body>		</html>	</xsl:template></xsl:stylesheet>